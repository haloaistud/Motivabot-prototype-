<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motivabot - Advanced AI Motivational Assistant</title>
    <meta name="description" content="Motivabot - Your Golden AI Motivational Assistant for goal tracking and motivation">
    <style>
      :root {
        --primary: #ffd700;
        --primary-dark: #ccac00;
        --success: #44ff44;
        --danger: #ff4444;
        --background: #1a1a1a;
        --container: #2a2a2a;
        --input: #333;
        --light-bg: #f5f5f5;
        --light-container: #fff;
      }
      body {
        font-family: 'Segoe UI', Arial, sans-serif;
        background: var(--background);
        color: #fff;
        margin:0; padding:0; display: flex; align-items:center; min-height:100vh; justify-content:center;
        transition: background 0.3s;
      }
      .container {
        max-width: 880px;
        width:100%; margin:1rem; padding:2rem;
        background: var(--container);
        border-radius: 18px;
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        border: 2px solid rgba(255, 215, 0, 0.16);
      }
      h1 { color: var(--primary); text-align:center; font-size:2.3rem; }
      h2 { color: var(--primary); font-size:1.5rem; margin-bottom:.5rem;}
      .settings-section, 
      .goal-section, 
      .progress-section, 
      .motivation-section, 
      .interaction-section { margin-bottom:2rem; }

      /* System Messages */
      .status-message { display:none; margin-bottom:1rem; padding:.7rem 1rem; border-radius:7px; }
      .status-error { background: rgba(255,68,68,0.1); color: var(--danger);}
      .status-success { background: rgba(44,255,44,0.1); color: var(--success);}
      
      /* Toggle Switches */
      .toggle-container { display:flex; align-items:center; gap:9px; }
      .toggle-switch { position:relative; display:inline-block; width:55px; height:28px;}
      .toggle-switch input {opacity:0; width:0; height:0;}
      .slider {
        position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0;
        background: var(--input);
        border-radius:28px; transition:.4s; border:1.5px solid var(--primary);
      }
      .slider:before {
        content:""; position:absolute; height:22px; width:22px; left:4px; bottom:2.7px;
        background: var(--primary); border-radius:50%; transition:.4s;
      }
      input:checked + .slider { background: var(--container);}
      input:checked + .slider:before { transform: translateX(24px);}
      
      /* Goals */
      #goal-form { display:flex; gap:10px; flex-wrap:wrap; }
      #goal-form input {
        flex:1; min-width:180px; padding:.65rem; border:1.2px solid var(--primary);
        border-radius:5px; background: var(--input); color: #fff; font-size:1rem;
      }
      #goal-form button { 
        padding:.7rem 1.3rem; background: var(--primary); color: #1a1a1a;
        border: none; border-radius:5px; font-weight:bold; cursor:pointer; transition:background .2s;
      }
      #goal-form button:hover { background: var(--primary-dark);}
      #goal-list { list-style:none; padding:0; margin-top:1rem;}
      #goal-list li {
        background: var(--input); border:1.4px solid var(--primary); padding:.81rem;
        border-radius:7px; margin-bottom:.55rem; display:flex; align-items:center; gap:10px;
        flex-wrap:wrap; justify-content:space-between; word-break: break-word;
      }
      #goal-list .goal-text { flex:1;}
      #goal-list button {
        background: var(--danger); color:white; border:none; border-radius:4px; 
        padding:.4rem 1rem; cursor:pointer;
      }
      #goal-list button:hover { opacity:.88;}
      
      /* Progress */
      .progress-bar {
        width:100%; background: var(--input); border-radius:7px; height:22px; margin-bottom:1rem;
        overflow:hidden; 
      }
      .progress-fill {
        height:100%; width:0%; background: var(--primary);
        box-shadow:0 0 8px var(--primary); transition: width .6s;
      }
      
      /* Quotes */
      .quote { min-height:3.1rem;  font-style: italic; color: var(--primary); text-align: center; font-size: 1.1rem; }
      .button-container { display:flex; gap:9px; justify-content:center; margin-top:1rem;}
      .motivation-section button { 
        padding:.7rem 1.3rem; background: var(--primary); color: #1a1a1a; border:none; border-radius:5px; 
        font-weight:bold; cursor:pointer; transition: background .2s, transform .12s;
        display: flex; align-items: center; gap:5px;
      }
      .motivation-section button:hover { background: var(--primary-dark); transform: translateY(-2px);}
      
      /* Chat */
      .chat-box { border: 1.3px solid var(--primary); border-radius: 7px; background: var(--input); padding:1rem;}
      #chat-log { height:150px; overflow-y:auto; margin-bottom:1rem; padding:.5rem;
        background: var(--container); border-radius:4px; border:1px solid #444; }
      #chat-log div { margin-bottom:.75rem; word-wrap: break-word;}
      #chat-log .bot { color: var(--primary);}
      .chat-input-container { display:flex; gap:10px; flex-wrap:wrap;}
      #chat-input {
        flex:1; min-width:150px; padding:.7rem; border:1.2px solid var(--primary);
        border-radius:4px; background: var(--input); color: #fff; font-size:1rem;
      }
      #send-button { 
        padding:.7rem 1.3rem; background: var(--primary); color: #1a1a1a;
        border: none; border-radius:5px; font-weight:bold; cursor:pointer; transition:background .2s;
      }
      #send-button:hover { background: var(--primary-dark);}
      /* responsive */
      @media (max-width: 650px) {
        .container { padding:.6rem; margin:.4rem;}
        #goal-form, .chat-input-container { flex-direction:column;}
        #goal-form input, #chat-input { min-width:unset;}
        #goal-form button, #send-button { width:100%;}
        #goal-list li { flex-direction:column; align-items:flex-start;}
        #goal-list button { align-self: flex-end;}
      }
      /* Light Mode */
      body.light-mode { background: var(--light-bg); color:#333;}
      .light-mode .container { background: var(--light-container);}
      .light-mode #goal-form input, .light-mode #chat-input { background: var(--light-bg); color: #333;}
      .light-mode #goal-list li { background: var(--light-bg);}
      .light-mode .chat-box { background: var(--light-bg);}
      .light-mode #chat-log { background: #fff;}
      .light-mode .progress-bar { background: #e0e0e0;}
      .light-mode .progress-fill { background: #d4af37;}
      .light-mode .slider { background: #e0e0e0;}
      .light-mode .slider:before { background: #d4af37;}
      .light-mode .quote, .light-mode #chat-log .bot { color: #d4af37;}
    </style>
</head>
<body>
  <div class="container">

    <h1>Motivabot</h1>

    <!-- Settings -->
    <section class="settings-section">
      <div class="toggle-container">
        <label class="toggle-switch">
          <input type="checkbox" id="theme-toggle">
          <span class="slider"></span>
        </label>
        <span id="theme-label">Dark Mode</span>
      </div>
      <div class="toggle-container">
        <label class="toggle-switch">
          <input type="checkbox" id="tts-toggle" checked>
          <span class="slider"></span>
        </label>
        <span>Text-to-Speech</span>
      </div>
    </section>
    <!-- Status message -->
    <div class="status-message" id="status-message"></div>
    
    <!-- Goals -->
    <section class="goal-section">
      <h2>Set Your Goals</h2>
      <form id="goal-form">
        <input type="text" id="goal" placeholder="Enter your goal..." autocomplete="off" required>
        <button type="submit">Add Goal</button>
      </form>
      <ul id="goal-list"></ul>
    </section>
    
    <!-- Progress -->
    <section class="progress-section">
      <h2>Track Your Progress</h2>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <p id="progress-text">No goals set yet.</p>
    </section>
    
    <!-- Motivation -->
    <section class="motivation-section">
      <h2>Daily Motivation</h2>
      <p class="quote" id="quote">"The only limit to our realization of tomorrow is our doubts of today." - Franklin D. Roosevelt</p>
      <div class="button-container">
        <button id="new-quote">New Quote</button>
        <button id="speak-quote"> 
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
          </svg>
          Speak
        </button>
      </div>
    </section>
    
    <!-- Chat -->
    <section class="interaction-section">
      <h2>Chat with Motivabot</h2>
      <div class="chat-box">
        <div id="chat-log"><div class="bot">Motivabot: Welcome! How can I help motivate you today?</div></div>
        <div class="chat-input-container">
          <input type="text" id="chat-input" placeholder="Type your message...">
          <button id="send-button">Send</button>
        </div>
      </div>
    </section>
  </div>
  <script>
    // ELEMENTS
    const themeToggle = document.getElementById('theme-toggle');
    const themeLabel = document.getElementById('theme-label');
    const ttsToggle = document.getElementById('tts-toggle');
    const progressFill = document.getElementById('progress-fill');
    const progressText = document.getElementById('progress-text');
    const goalList = document.getElementById('goal-list');
    const goalForm = document.getElementById('goal-form');
    const goalInput = document.getElementById('goal');
    const quoteElement = document.getElementById('quote');
    const newQuoteBtn = document.getElementById('new-quote');
    const speakQuoteBtn = document.getElementById('speak-quote');
    const chatLog = document.getElementById('chat-log');
    const chatInput = document.getElementById('chat-input');
    const sendButton = document.getElementById('send-button');
    const statusMsg = document.getElementById('status-message');
    // MOTIVATIONAL QUOTES
    const quotes = [
        `"Believe you can and you're halfway there." - Theodore Roosevelt`,
        `"Do what you can, with what you have, where you are." - Theodore Roosevelt`,
        `"It always seems impossible until it's done." - Nelson Mandela`,
        `"Success is not final, failure is not fatal: It is the courage to continue that counts." - Winston Churchill`,
        `"The best way to predict the future is to create it." - Peter Drucker`,
        `"Your time is limited, don't waste it living someone else's life." - Steve Jobs`,
        `"The future belongs to those who believe in the beauty of their dreams." - Eleanor Roosevelt`,
        `"You are never too old to set another goal or to dream a new dream." - C.S. Lewis`,
        `"Do not wait to strike till the iron is hot; but make it hot by striking." - William Butler Yeats`,
        `"Whether you think you can or you think you can't, you're right." - Henry Ford`
    ];

    const botResponses = [
        "You're doing great! Keep pushing forward!",
        "Every small step counts. Keep going!",
        "Remember why you started. You've got this!",
        "Take a deep breath and focus. You're capable of amazing things!",
        "Progress is progress, no matter how small. Keep it up!",
        "Challenges are just opportunities in disguise. Embrace them!",
        "Your dedication is inspiring. Keep that momentum going!",
        "Success comes to those who persist. You're on the right track!",
        "Don't forget to celebrate your achievements, no matter how small!",
        "The fact that you're trying already puts you ahead of those who aren't!"
    ];

    // Error correction: simple typo fixes (as example of advanced nlp error correction)
    const typoDict = {
      'teh': 'the', 'recieve': 'receive', 'definately': 'definitely', 'wich':'which', 'motivatoin':'motivation', 'adress':'address',
      'goals':'goals', 'chalenge':'challenge',
    };

    function autoCorrect(text) {
      const words = text.split(' ');
      return words.map(w => typoDict[w.toLowerCase()] || w).join(' ');
    }


    // LOCAL STORAGE: GOALS
    let goals = JSON.parse(localStorage.getItem('motivabotGoals') || '[]');
    
    // THEME
    themeToggle.addEventListener('change', function(){
      document.body.classList.toggle('light-mode');
      themeLabel.textContent = document.body.classList.contains('light-mode') ? 'Light Mode' : 'Dark Mode';
      localStorage.setItem('motivabotTheme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
    });
    if (localStorage.getItem('motivabotTheme') === 'light') {
      document.body.classList.add('light-mode');
      themeToggle.checked = true;
      themeLabel.textContent = 'Light Mode';
    }

    // TEXT-TO-SPEECH
    function speakText(text) {
        if ('speechSynthesis' in window && ttsToggle.checked) {
            window.speechSynthesis.cancel();
            const utt = new SpeechSynthesisUtterance(text);
            utt.lang = 'en-US';
            utt.rate = 1; utt.pitch = 1;
            window.speechSynthesis.speak(utt);
        }
    }

    // GOALS
    function loadGoals() {
      goalList.innerHTML = '';
      goals.forEach((goalText, i) => addGoalToDOM(goalText, i));
      updateProgress();
    }
    function addGoalToDOM(goalText, index) {
      const li = document.createElement('li');
      const span = document.createElement('span');
      span.textContent = goalText; span.className = 'goal-text';
      li.appendChild(span);

      const delBtn = document.createElement('button');
      delBtn.textContent = 'Delete';
      delBtn.onclick = function(){
        goals.splice(index, 1);
        localStorage.setItem('motivabotGoals', JSON.stringify(goals));
        loadGoals();
      };
      li.appendChild(delBtn);
      goalList.appendChild(li);
    }

    goalForm.addEventListener('submit', function(e){
      e.preventDefault();
      const val = goalInput.value.trim();
      if(!val) {
        showStatus('Please enter a goal!','error');
        goalInput.classList.add('error');
        setTimeout(()=>goalInput.classList.remove('error'),500);
        return;
      }
      if (goals.find(g=>g.toLowerCase()===val.toLowerCase())) {
        showStatus('Goal already exists.','warning');
        return;
      }
      goals.push(val);
      localStorage.setItem('motivabotGoals', JSON.stringify(goals));
      loadGoals();
      goalInput.value = '';
      const msg="Great job setting a new goal! Remember, writing it down is the first step to achieving it.";
      printBot(msg)
      speakText(msg);
      showStatus('Goal added!','success');
    });

    // GOAL progress
    function updateProgress() {
      if(goals.length===0) {
        progressFill.style.width = '0%';
        progressText.textContent = 'No goals set yet.';
      } else {
        const progress = Math.min(100, goals.length * 20);
        progressFill.style.width = `${progress}%`;
        progressText.textContent = `You're ${progress}% closer to your goals!`;
      }
    }

    // MOTIVATION: Quotes
    let lastQ = 0;
    function newQuote() {
      let idx;
      do { idx = Math.floor(Math.random()*quotes.length); } while(idx === lastQ);
      lastQ=idx;
      quoteElement.textContent = quotes[idx];
    }
    newQuoteBtn.addEventListener('click', newQuote);
    speakQuoteBtn.addEventListener('click', ()=>speakText(quoteElement.textContent));

    // CHAT BOT
    function printBot(text) {
      const botDiv = document.createElement('div');
      botDiv.className = 'bot';
      botDiv.textContent = `Motivabot: ${text}`;
      chatLog.appendChild(botDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
    function printUser(text) {
      const userDiv = document.createElement('div');
      userDiv.textContent = `You: ${text}`;
      chatLog.appendChild(userDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
    function botReply(msg) {
      msg = autoCorrect(msg);
      let reply = '';
      if (/goal|objectiv/i.test(msg)) 
        reply = "Let's work on your goals together. Try setting one above!";
      else if (/motivation|demotivated|uninspired|sad|stuck/i.test(msg))
        reply = botResponses[Math.floor(Math.random()*botResponses.length)];
      else if (/hello|hi|hey/i.test(msg))
        reply = "Hello! How can I support your journey today?";
      else if (/thank/i.test(msg))
        reply = "You're welcome! Let me know if you need more motivation.";
      else
        reply = botResponses[Math.floor(Math.random()*botResponses.length)];
      printBot(reply);
      speakText(reply);
    }
    chatInput.addEventListener('keydown', function(e){
      if(e.key==='Enter') sendButton.click();
    });
    sendButton.addEventListener('click', function(){
      let msg = chatInput.value.trim();
      if(!msg) return;
      msg = autoCorrect(msg);
      printUser(msg);
      chatInput.value = '';
      setTimeout(()=>botReply(msg), 400);
    });

    // Status message
    function showStatus(msg, type) {
      statusMsg.textContent = msg;
      statusMsg.className='status-message status-'+(type||'info');
      statusMsg.style.display='block';
      setTimeout(()=>statusMsg.style.display='none', 2000);
    }

    // On load
    loadGoals();
    // accessibility: auto-clear chat
    chatInput.setAttribute('autocomplete','off');
  </script>
</body>
</html>
